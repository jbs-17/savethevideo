---
// src/components/TopNav.astro
// Tailwind-based sticky top nav, responsive, accessible.
// No props for now; you can add `active` later if ingin highlight link.
---

<nav
  class="sticky top-0 z-50"
  style="backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);"
  aria-label="Main navigation"
>
  <!-- background gradient + subtle border -->
  <div
    class="w-full bg-gradient-to-r from-[#071028] via-[#1b0f35] to-[#3c1369]/95 border-b border-white/5/10"
  >
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- grid: left logo | center links | right actions -->
      <div class="grid grid-cols-[auto_1fr_auto] items-center h-[72px]">
        <!-- LEFT: logo -->
        <div class="flex items-center gap-3">
          <a
            href="/"
            class="flex items-center gap-3"
            aria-label="SaveTheVideo home"
          >
            <img
              src="/assets/logo-white.svg"
              alt="SaveTheVideo"
              class="h-8 w-auto select-none"
            />
            <span class="text-white font-semibold tracking-tight text-sm"
              >SaveTheVideo</span
            >
          </a>
        </div>

        <!-- CENTER: links (centered) -->
        <div class="flex justify-center">
          <ul
            class="hidden md:flex items-center gap-6 text-sm font-semibold text-white/90"
          >
            <li>
              <a
                class="px-2 py-1 rounded-md hover:bg-white/6 focus:outline-none focus:ring-2 focus:ring-white/10"
                href="/">Documentation</a
              >
            </li>
            <li>
              <a
                class="px-2 py-1 rounded-md hover:bg-white/6 focus:outline-none focus:ring-2 focus:ring-white/10"
                href="/blog">Blog</a
              >
            </li>
            <li>
              <a
                class="px-2 py-1 rounded-md hover:bg-white/6 focus:outline-none focus:ring-2 focus:ring-white/10"
                href="/resources">Resources</a
              >
            </li>
            <li>
              <a
                class="px-2 py-1 rounded-md hover:bg-white/6 focus:outline-none focus:ring-2 focus:ring-white/10"
                href="/community">Community</a
              >
            </li>
            <li>
              <a
                class="px-2 py-1 rounded-md hover:bg-white/6 focus:outline-none focus:ring-2 focus:ring-white/10"
                href="/enterprise">Enterprise</a
              >
            </li>
          </ul>
        </div>

        <!-- RIGHT: small icons / actions -->
        <div class="flex items-center justify-end gap-3">
          <!-- small GitHub icon -->
          <a
            href="https://github.com/your-repo"
            class="h-9 w-9 inline-flex items-center justify-center rounded-md bg-white/6 hover:bg-white/10 transition"
            aria-label="GitHub"
            target="_blank"
            rel="noopener noreferrer"
          >
            <svg
              class="h-4 w-4 text-white"
              viewBox="0 0 16 16"
              fill="currentColor"
              aria-hidden="true"
            >
              <path
                d="M8 0C3.58 0 0 3.58 0 8a8 8 0 0 0 5.47 7.59c.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82a7.6 7.6 0 0 1 2.01-.27 7.6 7.6 0 0 1 2.01.27c1.53-1.03 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.28.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8 8 0 0 0 16 8c0-4.42-3.58-8-8-8z"
              ></path>
            </svg>
          </a>

          <!-- mobile hamburger -->
          <button
            id="nav-toggle"
            class="md:hidden h-9 w-9 inline-flex items-center justify-center rounded-md bg-white/6 hover:bg-white/10 transition"
            aria-label="Open menu"
            type="button"
          >
            <svg
              class="h-5 w-5 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              ><path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"></path></svg
            >
          </button>
        </div>
      </div>
    </div>

    <!-- MOBILE: slide down menu -->
    <div
      id="mobile-menu"
      class="md:hidden hidden bg-[#071028]/95 border-t border-white/3"
    >
      <div class="px-4 py-4 space-y-1">
        <a
          class="block px-3 py-2 rounded-md text-white/95 hover:bg-white/6"
          href="/">Documentation</a
        >
        <a
          class="block px-3 py-2 rounded-md text-white/95 hover:bg-white/6"
          href="/blog">Blog</a
        >
        <a
          class="block px-3 py-2 rounded-md text-white/95 hover:bg-white/6"
          href="/resources">Resources</a
        >
        <a
          class="block px-3 py-2 rounded-md text-white/95 hover:bg-white/6"
          href="/community">Community</a
        >
        <a
          class="block px-3 py-2 rounded-md text-white/95 hover:bg-white/6"
          href="/enterprise">Enterprise</a
        >
      </div>
    </div>
  </div>

  <script>
    // only run in browser
    if (typeof window !== "undefined") {
      const btn = document.getElementById("nav-toggle");
      const menu = document.getElementById("mobile-menu");
      btn?.addEventListener("click", () => menu?.classList.toggle("hidden"));

      // add subtle shadow when scrolled
      const navWrap = document.querySelector("nav");
      const onScroll = () => {
        if (!navWrap) return;
        navWrap.classList.toggle("shadow-xl", window.scrollY > 6);
      };
      window.addEventListener("scroll", onScroll, { passive: true });
      onScroll();
    }
  </script>
</nav>
